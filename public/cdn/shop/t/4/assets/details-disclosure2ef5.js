class DetailsDisclosure extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),this.content=this.mainDetailsToggle.querySelector("summary").nextElementSibling,this.useHoverEnabled=this.getAttribute("data-openbyhover")==="true",this.mainDetailsToggle.addEventListener("focusout",this.onFocusOut.bind(this)),this.mainDetailsToggle.addEventListener("toggle",this.onToggle.bind(this)),this.useHoverEnabled&&(this.mainDetailsToggle.addEventListener("mouseenter",this.onMouseEnter.bind(this)),this.mainDetailsToggle.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.openedDetails=null,this.previousDetails=null,window.addEventListener("mousedown",this.onWindowClick.bind(this)),this.content.addEventListener("mouseleave",this.onContentMouseLeave.bind(this)),this.mouseLeaveTimeout=null)}onWindowClick(event){!this.contains(event.target)&&!this.content.contains(event.target)&&setTimeout(()=>{this.close(),this.openedDetails=null})}onMouseEnter(){clearTimeout(this.mouseLeaveTimeout),this.open(),this.previousDetails=this.openedDetails,this.openedDetails=this.mainDetailsToggle}onMouseLeave(event){const hoveredDetails=!event.relatedTarget?.closest("details"),hoveredTarget=!this.contains(event.target)&&!this.content.contains(event.target)&&!event.relatedTarget?.closest("details");hoveredDetails?hoveredTarget?clearTimeout(this.mouseLeaveTimeout):this.mouseLeaveTimeout=setTimeout(()=>{this.close(),this.openedDetails=null},1500):this.mouseLeaveTimeout=setTimeout(()=>{this.close()},100)}onContentMouseLeave(event){(!event.relatedTarget||!event.relatedTarget.closest("details"))&&setTimeout(()=>{this.close(),this.openedDetails=null})}onFocusOut(){setTimeout(()=>{this.contains(document.activeElement)||this.close()})}onToggle(){this.checkAnimation()}open(){this.mainDetailsToggle.setAttribute("open",""),this.checkAnimation(),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!0)}close(){this.mainDetailsToggle.removeAttribute("open"),this.animations||(this.animations=this.content.getAnimations()),this.animations.forEach(animation=>animation.cancel()),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!1)}checkAnimation(){this.animations||(this.animations=this.content.getAnimations()),this.mainDetailsToggle.hasAttribute("open")?this.animations.forEach(animation=>animation.play()):this.animations.forEach(animation=>animation.cancel())}}customElements.define("details-disclosure",DetailsDisclosure);class HeaderMenu extends DetailsDisclosure{constructor(){super(),this.header=document.querySelector(".header-wrapper")}onToggle(){this.header&&(this.header.preventHide=this.mainDetailsToggle.open,document.documentElement.style.getPropertyValue("--header-bottom-position-desktop")===""&&document.documentElement.style.setProperty("--header-bottom-position-desktop",`${Math.floor(this.header.getBoundingClientRect().bottom)}px`))}}customElements.define("header-menu",HeaderMenu);
//# sourceMappingURL=/cdn/shop/t/4/assets/details-disclosure.js.map?v=18242343495205306131704978796
